<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Map Renders Showcase</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#0e0e12;
    color:#fff;
}
h1{
    text-align:center;
    padding:30px 0;
    font-size:48px;
}
.grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    gap:24px;
    padding:40px;
}
.card{
    background:#15151d;
    border-radius:16px;
    padding:12px;
    cursor:pointer;
}
.card img{
    width:100%;
    border-radius:12px;
}
.label{
    text-align:center;
    margin-top:10px;
    font-weight:bold;
}
.viewer{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:10;
}
.viewer img{
    max-width:90%;
    max-height:90%;
}
.ui{
    position:fixed;
    top:20px;
    right:20px;
    display:flex;
    gap:10px;
}
button{
    padding:10px 14px;
    border:none;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
}
</style>
</head>

<body>

<h1>MY MAP RENDERS</h1>
<div class="grid" id="grid"></div>

<div class="viewer" id="viewer">
    <img id="viewImg">
    <div class="ui">
        <button id="download">DOWNLOAD</button>
        <button onclick="closeViewer()">CLOSE</button>
    </div>
</div>

<script>
const grid = document.getElementById("grid");
const viewer = document.getElementById("viewer");
const viewImg = document.getElementById("viewImg");
const downloadBtn = document.getElementById("download");

fetch("folders.json")
.then(r=>r.json())
.then(folders=>{
    folders.forEach(folder=>{
        const name = folder.toLowerCase();
        const iso = `${folder}/${name}-iso.png`;
        const baseIso = `${folder}/${name}-base-iso.png`;

        const card = document.createElement("div");
        card.className = "card";

        const img = document.createElement("img");
        img.src = iso;

        card.onmouseenter = ()=> img.src = baseIso;
        card.onmouseleave = ()=> img.src = iso;

        card.onclick = ()=>{
            viewer.style.display="flex";
            viewImg.src = iso;
            downloadBtn.onclick = ()=>{
                const a = document.createElement("a");
                a.href = iso;
                a.download = `${name}-iso.png`;
                a.click();
            };
        };

        const label = document.createElement("div");
        label.className="label";
        label.textContent=folder;

        card.appendChild(img);
        card.appendChild(label);
        grid.appendChild(card);
    });
});

function closeViewer(){
    viewer.style.display="none";
}
viewer.onclick = e=>{
    if(e.target===viewer) closeViewer();
};
</script>

</body>
</html>
